import{_ as p,r as c,o as u,c as m,a as r,b as n,w as a,d as o,j as k,k as _,i as f,F as x}from"./index-0uMLGOXz.js";const g="https://ec-course-api.hexschool.io/v2",$={data(){return{isLogin:!1}},methods:{checkAdmin(){const t=`${g}/api/user/check`;this.axios.post(t).then(e=>{this.isLogin=!0}).catch(e=>{console.dir(e),alert(e.response.data.message),this.$router.push("/login")})},signout(){document.cookie="hexToken=;expires=; path=/",alert("已成功登出~~"),this.$router.push("/login")}},mounted(){const t=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.axios.defaults.headers.common.Authorization=t,this.checkAdmin()}},V=r("h1",null,"後台導覽列",-1);function w(t,e,L,v,d,i){const s=c("RouterLink"),h=c("RouterView");return u(),m(x,null,[V,r("nav",null,[n(s,{to:"/"},{default:a(()=>[o("返回前台")]),_:1}),o(" | "),n(s,{to:"/admin/products"},{default:a(()=>[o("產品列表")]),_:1}),o(" | "),n(s,{to:"/admin/orders"},{default:a(()=>[o("訂單列表")]),_:1}),o(" | "),r("a",{href:"#",onClick:e[0]||(e[0]=k((...l)=>i.signout&&i.signout(...l),["prevent"]))},"登出")]),d.isLogin?(u(),_(h,{key:0})):f("",!0)],64)}const B=p($,[["render",w]]);export{B as default};
