import{P as m}from"./PaginationBtn-1M31z4r1.js";import{_ as w,r,o as n,c as e,b as l,a as t,F as p,h as f,d as _,t as a}from"./index-0uMLGOXz.js";const b="https://ec-course-api.hexschool.io/v2",x="dollob_api",k={data(){return{products:[],pagination:{},isLoading:!1}},components:{PaginationBtn:m},methods:{getData(i=1){this.isLoading=!0;const d=`${b}/api/${x}/admin/products?page=${i}`;this.axios.get(d).then(c=>{const{products:h,pagination:o}=c.data;this.products=h,this.pagination=o}).catch(c=>{alert(c.response.data.message)}).finally(()=>{this.isLoading=!1})}},mounted(){const i=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.axios.defaults.headers.common.Authorization=i,this.getData()}},y=t("h3",null,"產品列表",-1),v={class:"container"},L={class:"row py-3"},$={class:"table table-hover mt-4"},V=t("thead",null,[t("tr",null,[t("th",{width:"120"}," 分類 "),t("th",{width:"150"},"產品名稱"),t("th",{width:"120"}," 原價 "),t("th",{width:"120"}," 售價 "),t("th",{width:"150"}," 是否啟用 ")])],-1),B={width:"120"},P={width:"150"},D={class:"h5 font-weight-bold text-warning"},N={width:"120"},A={width:"120"},F={width:"150"},T={key:0,class:"text-success"},z={key:1};function C(i,d,c,h,o,E){const u=r("VueLoading"),g=r("pagination-btn");return n(),e(p,null,[y,l(u,{active:o.isLoading},null,8,["active"]),t("div",v,[t("div",L,[t("table",$,[V,t("tbody",null,[(n(!0),e(p,null,f(o.products,s=>(n(),e("tr",{key:s.id},[t("td",B,a(s.category),1),t("td",P,[t("span",D,a(s.title),1)]),t("td",N,a(s.origin_price),1),t("td",A,a(s.price),1),t("td",F,[s.is_enabled?(n(),e("span",T,"啟用")):(n(),e("span",z,"未啟用"))])]))),128))])]),t("p",null,[_("目前有 "),t("span",null,a(o.products.length),1),_(" 項產品")])]),l(g,{pagination:o.pagination},null,8,["pagination"])])],64)}const j=w(k,[["render",C]]);export{j as default};
